<html>
	<meta charset="utf-8">
<head>	
	<title>JavaScript - Objeto - String</title>
	<script type="text/javascript" src=" ">
	</script>
</head>
<body>
	<h4>Corpo da página - Objeto - String</h4>
	<script type="text/javascript">
		/*Objetos
			String
				Métodos:
					length.....: Atributo com o comprimento da string;
					charArt()..: Retorna o caracter na posição especifida;
					concat()...: Combina duas Strings retornando uma nova;
					indexOf()..: Retorna a primeira posição do valor especificado ou -1 se não foi localizado;
					lastIndex(): Retorna a última posição do valor especificado ou -1 se não foi localizado;
					match()....: Verifica se o padrão definido por uma expressão regular existe;
					replace()..: Substitui de acordo com uma expressão regular ou string, trechos da string;
					search()...: Pesquisa por uma expressão regular na string;
					slice()....: Extrai parte da string - trabalha com índices positivos e negativos;
					split()....: Quebra uma string em várias subStrings;
					substr()...: Extrai parte da string, trabalha com um índice positivo e um comprimento de strings;
					substring..: Extrai parte da string, trabalha com dois índices positivos, o primeiro índice e último índice;
					toLowerCase: Converte uma string para letras maiúsculas;
					toUpperCase:Converte uma string para letras minúsculas;
					
				Métodos HTML
					blink()....: Retorna uma string que fica piscando (<blind>);
					fontcolor(): Modifica a cor da fonte (<font color='cor'>);
					fontsize().: Modifica o tamanho da fonte (<font size = "tamanho">);
					italics()..: Coloca o texto em itálico (<i>);
					bold().....: Coloca o texto em negrito (<b>;)
		*/
		
		//1º Forma
		function removeEspacosBrancos1(texto){
			var resultado = " ";
			for(var i = 0; i < texto.length; i++){
				if (i < texto.length && texto.substr(i, 1) != " ") {
					resultado += texto.substr(i, 1);
				}
			}
			
			return resultado;
		}
		
		//2º Forma
		function removeEspacosBrancos2(texto){
			while(texto.indexOf(" ") != -1){
				var parte1 = texto.substring(0, texto.indexOf(" "));
				var parte2 = texto.substring(texto.indexOf(" ")+1, texto.length);
				
				texto = parte1 + parte2;
			}
			
			return texto;
		}

		//var valor = prompt("Informe um texto.");
		//alert(removeEspacosBrancos1(valor));
		
		function converteNumeroMoeda(num){
			var aux = num / 100;
			aux = aux.toString().replace(".", ",");
			
			var parteInteira = aux.substring(0, aux.indexOf(","));
			if(aux.indexOf(",") == -1){
				parteInteira = 0;
			}
								
			var parteFracionaria = aux.substring(aux.indexOf(","), aux.length);
			
			//Se o resultado for zero, forma para 0,00, se o comprimento da parte fracionária for menor ou igual a dois digitos retorna a parte fracionária + 0
			parteFracionaria = aux.indexOf(",") == -1 ? ",00" : parteFracionaria.length <= 2 ? parteFracionaria+"0" : parteFracionaria ; //Operador Ternário
			
			if (parteInteira.length < 4) {
				return "R$ " + parteInteira + parteFracionaria;
			}
			
			var resultado = "";
			for (var i = parteInteira.length; i > 3;) {
				//parteInteira.substring(i-3, i): Do fim e desce 3 digitos e se tira uma subString
				resultado = "." + parteInteira.substring(i-3, i)+resultado; 
				
				//Tira uma outra substring do que não foi avaliado
				parteInteira = parteInteira.substring(0, i-3);
				
				//Avali se 3 caracteres, adiciona o ponto se for o caso e remove e assim por diante - Expressão de incremento
				i = i - 3; 
			}
			
			return "R$ " + parteInteira+resultado+parteFracionaria;
		}
		
		var valor = prompt("Informe um valor.");
		document.write("<br>" + converteNumeroMoeda(valor).blink().fontcolor("red").fontsize(50).italics());//Função blink() está obsoleta.
		//alert(converteNumeroMoeda(valor));
		
	</script>	
</body>
</html>